(window.webpackJsonpbowling=window.webpackJsonpbowling||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),c=(a(14),a(15),a(1)),s=a(2),u=a(3),i=a(5),p=a(4),m=a(6),d=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a["name-".concat(a.props.id)].addEventListener("keydown",function(e){if("Tab"===e.key||"Enter"===e.key){e.preventDefault();var t=parseInt(a.props.id),n=document.querySelector("#name-".concat(t+1));if(n)n.focus();else{var r=document.querySelector("#roll-0-0");r&&r.focus()}}})},a.id=function(e){return"".concat(a.props.id,"-").concat(e)},a.createFrames=function(){return a.props.rolls.map(function(e,t){return r.a.createElement("span",{className:"roll",key:a.id(t)},r.a.createElement("input",{id:"roll-".concat(a.id(t)),key:a.id(t),name:"roll",type:"text",value:a.props.rolls[t],onChange:a.handleUpdateRoll,ref:function(e){return a["roll-".concat(a.id(t))]=e}}))})},a.handleUpdateRoll=function(e){a.props.handleUpdateRoll(e)&&a.props.autoAdvance&&a.determineNextFocus(e,e.target.value.toUpperCase())},a.sumFrames=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Start Game",n=Object(c.a)(a.props.rolls),r=n.map(function(e,t){return e.match(/[0-9]/)?parseInt(e):"X"===e?10:"/"===e?10-parseInt(n[t-1]):null}),l=r.filter(u);if(r.slice(0,e).filter(u).length>0){var o=0;n.slice(0,e).filter(u).forEach(function(e,t){"X"===e?o+=(l[t+1]||0)+(l[t+2]||0):"/"===e&&(o+=l[t+1]||0)});var s=r.slice(0,e);return s.reduce(function(e,t){return e+t})+o}return t;function u(e){return!!e||0===e}},a.sumAllFrames=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Start Game",t="X"===a.props.rolls[18]?19:20;return a.sumFrames(t,e)},a.directFocusToChild=function(e){var t=[];if(e.target.querySelectorAll(".roll input").forEach(function(e){return t.push(e.value)}),21===t.length){var n,r=(t=(t=t.map(function(e,t){return(t%2===0||19===t)&&e.match(/[0-9x]/i)||t%2===1&&e.match(/[0-9\/]/)?e:""})).filter(function(e,a){return e||t[a+1]}))[t.length-1];n=t.length>=20?20:r&&r.match(/X/i)?t.length+1:t.length,a["roll-".concat(a.props.id,"-").concat(n)].focus()}},a.determineNextFocus=function(e,t){if(t.match(/[0-9x\/]/i)){var n=e.target.id.split("-"),r=parseInt(n[2]),l=parseInt(n[1]);if(r>=18)a.determineNextFocusLastFrame(e,t);else if(r%2===1||"X"===t.toUpperCase()){var o=document.querySelector("#player-".concat(l+1));o?o.click():document.querySelector("#player-0").click()}else a["roll-".concat(l,"-").concat(r+1)].focus()}},a.determineNextFocusLastFrame=function(e,t){var n=e.target.id.split("-"),r=parseInt(n[2]),l=parseInt(n[1]);if(18===r||19===r&&(t.match(/\//)||a.props.rolls[18].match(/X/i)))a["roll-".concat(l,"-").concat(r+1)].focus();else{var o=document.querySelector("#player-".concat(l+1));o?o.click():document.querySelector("#player-0").click()}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"player",onClick:this.directFocusToChild,id:"player-".concat(this.props.id)},r.a.createElement("input",{value:this.props.playerName,name:"nameInput",id:"name-".concat(this.props.id),className:"nameInput",onChange:this.props.handleNameChange,placeholder:"Player ".concat(this.props.id+1),ref:function(t){return e["name-".concat(e.props.id)]=t},autoFocus:!0}),r.a.createElement("button",{onClick:function(){return e.props.handleDeletePlayer(e.props.id)}},"Delete ",this.props.playerName),r.a.createElement("button",{className:"clearScoreButton",onClick:function(){return e.props.clearScore(e.props.id)}},"Clear Score"),r.a.createElement("div",{className:"playerGame"},this.createFrames(),r.a.createElement("span",{className:"sum"},r.a.createElement("p",null,this.sumAllFrames())),this.props.rolls.slice((this.props.rolls.length+1)/2).map(function(t,a){var n=9===a?e.sumAllFrames("-"):e.sumFrames(2*a+2,"-");return r.a.createElement("div",{key:a,id:a},e.props.rolls[2*a]?n:"-")})))}}]),t}(r.a.Component),h=a(16),f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).makeAllRolls=function(){for(var e=[],t=0;t<21;t++)e.push("");return[].concat(e)},a.newPlayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:e,rolls:a.makeAllRolls()}},a.state={players:[h.cloneDeep(a.newPlayer("Tejal")),h.cloneDeep(a.newPlayer("Nick"))],autoAdvance:!0},a.handleAddPlayer=function(){var e=Object(c.a)(a.state.players);e.push(h.cloneDeep(a.newPlayer())),a.setState({players:e})},a.handleNameChange=function(e){var t=parseInt(e.target.id.split("-")[1]),n=h.cloneDeep(a.state.players);n[t].name=e.target.value,a.setState({players:n})},a.handleDeletePlayer=function(e){var t=Object(c.a)(a.state.players);t.splice(e,1),a.setState({players:t})},a.handleUpdateRoll=function(e){var t=e.target.value[e.target.value.length-1]||"",n=e.target.id.split("-"),r=parseInt(n[1]),l=parseInt(n[2]);if(a.isAcceptableRollInput(r,l,t)){var o=h.cloneDeep(a.state.players);o[r].rolls[l]=t.toUpperCase(),a.setState({players:o})}return a.isAcceptableRollInput(r,l,t)},a.isAcceptableRollInput=function(e,t,n){var r=a.state.players[e].rolls;if(""===n)return!0;if(t<19){if(t%2===1&&"X"!==r[t-1])return parseInt(n)||"0"===n?parseInt(n)+parseInt(r[t-1])<10:"/"===n;if(t%2===0)return n.match(/[0-9x]/i)}else{if(19===t)return"X"===r[18]?n.match(/[0-9x]/i):"/"===n||n.match(/[0-9]/)&&parseInt(n)+parseInt(r[t-1])<10;if(20===t){if("/"===r[19])return n.match(/[0-9x]/i);if("X"===r[18])return"X"===r[19]?n.match(/[0-9x]/i):parseInt(n)+parseInt(r[t-1])<10}}return!1},a.addPlayerButton=r.a.createElement("button",{onClick:a.handleAddPlayer,className:"addPlayerButton"},"Add Player"),a.toggleAutoAdvance=function(){return a.setState({autoAdvance:!a.state.autoAdvance})},a.clearScore=function(e){var t=h.cloneDeep(a.state.players);t[e].rolls=a.makeAllRolls(),a.setState({players:t})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"game"},this.addPlayerButton,r.a.createElement("span",{className:"autoAdvanceContainer",onClick:this.toggleAutoAdvance},r.a.createElement("p",null,"Auto-Advance"),r.a.createElement("input",{type:"checkbox",checked:this.state.autoAdvance,onChange:this.toggleAutoAdvance}),r.a.createElement("span",null,r.a.createElement("span",null))),this.state.players.map(function(t,a){return r.a.createElement(d,{playerName:t.name,rolls:t.rolls,key:a,id:a,handleNameChange:e.handleNameChange,handleDeletePlayer:e.handleDeletePlayer,handleUpdateRoll:e.handleUpdateRoll,autoAdvance:e.state.autoAdvance,clearScore:e.clearScore})}),this.state.players.length>3?this.addPlayerButton:null)}}]),t}(r.a.Component);var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Bowling Score"),r.a.createElement("div",{className:"instructions"},r.a.createElement("h2",null,"Scoring Rules"),r.a.createElement("p",null,'Each "frame" is two attempts ("throws") to knock down the 10 pins. A game has 10 frames.'),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Symbol"),r.a.createElement("th",null,"Meaning"),r.a.createElement("th",null,"Scoring")),r.a.createElement("tr",null,r.a.createElement("td",null,"Strike"),r.a.createElement("td",null,"X"),r.a.createElement("td",null,"You knocked down all 10 pins on the first throw of a frame."),r.a.createElement("td",null,"10 + the number of pins knocked down on your next 2 throws")),r.a.createElement("tr",null,r.a.createElement("td",null,"Spare"),r.a.createElement("td",null,"/"),r.a.createElement("td",null,"You knocked down all 10 pins on the second throw."),r.a.createElement("td",null,"10 for the frame + the number of pins knocked down on your next throw")),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,"0-9"),r.a.createElement("td",null,"You knocked down this many pins, ",r.a.createElement("b",null,"not")," all the pins"),r.a.createElement("td",null,"The number of pins you knocked down"))))),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.5e77aa25.chunk.js.map